<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Student Portal</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f0f2f5; }
    .container { max-width: 400px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.1); }
    input, button { padding: 10px; font-size: 16px; margin-top: 10px; width: 100%; }
    button { background: #007BFF; color: white; border: none; cursor: pointer; }
    button:hover { background: #0056b3; }
    .error { color: red; margin-top: 10px; }
    .result { margin-top: 20px; }
    .result h2 { margin-bottom: 10px; }
    .result ul { list-style: none; padding: 0; }
    .result li { padding: 5px 0; border-bottom: 1px solid #ccc; display: flex; justify-content: space-between; }
  </style>
</head>
<body>

<div class="container">
  <h1>Student Portal</h1>
  <input type="text" id="studentId" placeholder="Enter your Student ID" />
  <button onclick="fetchStudentData()">View Scores</button>
  <div id="error" class="error"></div>
  <div id="result" class="result"></div>
</div>

<script>
  async function fetchStudentData() {
    const id = document.getElementById('studentId').value.trim();
    const errorDiv = document.getElementById('error');
    const resultDiv = document.getElementById('result');
    errorDiv.textContent = '';
    resultDiv.innerHTML = '';

    if (!id) {
      errorDiv.textContent = 'Please enter your Student ID.';
      return;
    }

    try {
      // Your Web App URL here:
      const response = await fetch(`https://script.google.com/macros/s/AKfycbw4iOLFpUcYoyAul2i4zv8fH-FHdNRq9GeEb1HejPAymvufm4Aybykasw5AcdFt8xkM/exec?id=${encodeURIComponent(id)}`);
      const data = await response.json();

      if (!data || Object.keys(data).length === 0) {
        errorDiv.textContent = 'Student not found.';
        return;
      }

      let html = `<h2>${data.Name || 'Student'}</h2><ul>`;
      for (const key in data) {
        if (key !== 'Name' && key !== 'Student ID') {
          html += `<li><strong>${key}</strong> <span>${data[key]}</span></li>`;
        }
      }
      html += '</ul>';
      resultDiv.innerHTML = html;

    } catch (error) {
      errorDiv.textContent = 'Error fetching data. Please try again later.';
      console.error(error);
    }
  }
</script>

</body>
</html>